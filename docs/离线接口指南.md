# 离线接口指南

离线接口有 `PaddleOCR`，`PaddleOCR2`，`RapidOCR`  三个，**三选一即可 !!!   三选一即可 !!!**

三个离线接口皆是 **CPU 推理**

需选择 `det`，`cls`，`rec` 三种模型文件，和字典文件 `keys`

`PaddleOCR` 和 `PaddleOCR2` 接口是选择模型文件夹，`RapidOCR` 接口是选择 `.onnx ` 模型文件。三个接口字典文件都是选择 `.txt` 文件

## PaddleOCR(推荐首选)

- 此接口只支持 `64` 位，支持 `ppocrv5` 和低版本的模型

- 需要 `cpu` 支持 `avx` 指令集，不支持请使用 `PaddleOCR2` 接口

- 高级配置文件留空则使用默认值，普通用户推荐留空

- 如果 `cpu` 支持 `avx` 指令集，请首选此接口

- 使用方法：
  1. 下载 `dll` 依赖，放在 `[程序运行目录]\PaddleOCR_data\win_x64`
  
  2. `设置 - 密钥`，找到 `PaddleOCR`，点击浏览选择模型文件，字典文件路径即可
  
     ![image-20251006115859948](assets/image-20251006115859948.png)
  
  **tips：**
  
  - 如果不设置，**全部留空**，也可以，**会使用程序内置的默认文件查找路径**，要确保默认文件查找路径上有对应的模型文件，字典文件等。
  - 提供符合默认文件查找路径的 **解压即用的离线数据包**，包含 dll 依赖及一些模型，解压至程序运行目录即可。下载地址：https://www.123684.com/s/aLLA-NLmWd?pwd=rxcG
  - 若想自己下载模型，或下载其他语言的模型，请至 https://www.paddleocr.ai/latest/version3.x/pipeline_usage/OCR.html#1-ocr 下载 **推理模型**
  
- 默认文件查找路径：

  - **默认模型路径**:
    - **检测模型 (det)**: `[程序运行目录]\PaddleOCR_data\win_x64\inference\PP-OCRv5_mobile_det_infer`
    - **方向模型 (cls)**: `[程序运行目录]\PaddleOCR_data\win_x64\inference\ch_ppocr_mobile_v5.0_cls_infer`
    - **识别模型 (rec)**: `[程序运行目录]\PaddleOCR_data\win_x64\inference\PP-OCRv5_mobile_rec_infer`
    - **字典文件 (keys)**: `[程序运行目录]\PaddleOCR_data\win_x64\inference\ppocr_keys.txt`

  - **高级配置文件**:
    - 没有默认的加载路径。如果用户在设置中留空，`PaddleOCR` 将完全使用其 **默认参数** 来运行。




## PaddleOCR2

- 此接口仅支持 `64` 位操作系统，支持 `ppocrv5` 及更低版本模型.

- 无需 `CPU` 支持 `AVX` 指令集，兼容性更好，但识别速度可能较慢。

- 高级配置文件留空则使用默认值，普通用户推荐留空

- 使用方法：

  1. 下载 `dll` 依赖，放在 `[程序运行目录]\dll\x64`

  2. `设置 - 密钥`，找到 `PaddleOCR2`，点击浏览选择模型文件，字典文件路径，及模型版本即可

     ![image-20251006115946210](assets/image-20251006115946210.png)

  **tips：**

  - 如果不设置，**全部留空**，也可以，**会使用程序内置的默认文件查找路径及对应的模型版本**，要确保默认文件查找路径上有对应的模型文件，字典文件等。
  - 提供符合默认文件查找路径的 **解压即用的离线数据包**，包含 dll 依赖及一些模型，解压至程序运行目录即可。下载地址：https://www.123684.com/s/aLLA-NLmWd?pwd=rxcG
  - 若想自己下载模型，或下载其他语言的模型，请至 https://www.paddleocr.ai/latest/version3.x/pipeline_usage/OCR.html#1-ocr 下载 **推理模型**

- 默认文件查找路径：

  - **默认模型路径**:
    - **检测模型 (det)**: `[程序运行目录]\PaddleOCR2_data\models\PP-OCRv5_mobile_det_infer`，默认模型版本 v5
    - **方向模型 (cls)**: `[程序运行目录]\PaddleOCR2_data\models\ch_ppocr_mobile_v5.0_cls_infer`，默认模型版本 v5
    - **识别模型 (rec)**: `[程序运行目录]\PaddleOCR2_data\models\PP-OCRv5_mobile_rec_infer`，默认模型版本 v5
    - **字典文件 (keys)**: `[程序运行目录]\PaddleOCR2_data\models\ppocr_keys.txt`，默认模型版本 v5
  - **高级配置文件**:
    - 没有默认的加载路径。如果用户在设置中留空，`PaddleOcr2` 将使用 **默认参数**。
  
- 常见问题：

  - 如果 `PaddleOCR2` 接口报错：**外部组件发生异常**。
  
    大概率是设置里你的模型版本没有选对，检查一下模型版本
  
  - 如果 `PaddleOCR2` 接口报错：**“Sdcb.PaddleInference.Native.PaddleNative”的类型初始值设定项引发异常**
  
    大概率是 **dll 依赖**缺失，检查一下**程序运行目录有没有离线数据包解压出的 `dll` 文件夹**


## RapidOCR

- 此接口支持 `32` 位和 `64` 位操作系统，不支持 `ppocrv5` 版本模型，支持 `ppocrv4` 及更低版本模型。

- 不知道 `CPU` 是否需要支持 `AVX` 指令集，自行测试。

- 高级配置文件留空则使用默认值，普通用户推荐留空

- 使用方法：

  1. 下载 `dll` 依赖，放在 `[程序运行目录]\RapidOCR_data\win_x64`
  2. `设置 - 密钥`，找到 `RapidOCR`，点击浏览选择模型文件，字典文件路径即可

  ![image-20251006120014395](assets/image-20251006120014395.png)

  tips：

  - 如果不设置，**全部留空**，也可以，**会使用程序内置的默认文件查找路径**，要确保默认文件查找路径上有对应的模型文件，字典文件等。
  - 提供符合默认文件查找路径的 **解压即用的离线数据包**，包含 dll 依赖及一些模型，解压至程序运行目录即可。下载地址：https://www.123684.com/s/aLLA-NLmWd?pwd=rxcG
  - 若想自己下载模型，或下载其他语言的模型，请至 https://www.modelscope.cn/models/RapidAI/RapidOCR/files 下载 **`onnx` 模型**

- 默认文件查找路径：

  - **默认模型路径**:
    - **检测模型 (det)**: `[程序运行目录]\RapidOCR_data\models\ch_PP-OCRv4_det_infer.onnx`
    - **方向模型 (cls)**: `[程序运行目录]\RapidOCR_data\models\ch_ppocr_mobile_v2.0_cls_infer.onnx`
    - **识别模型 (rec)**: `[程序运行目录]\RapidOCR_data\models\ch_PP-OCRv4_rec_infer.onnx`
    - **字典文件 (keys)**: `[程序运行目录]\RapidOCR_data\models\ppocr_keys_v1.txt`
  - **高级配置文件**:
    - 没有默认的加载路径。如果用户在设置中留空，`RapidOCR` 将使用 **默认参数**。

  